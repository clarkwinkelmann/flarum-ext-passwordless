module.exports=function(e){var s={};function t(r){if(s[r])return s[r].exports;var o=s[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=s,t.d=function(e,s,r){t.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:r})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,s){if(1&s&&(e=t(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var o in e)t.d(r,o,function(s){return e[s]}.bind(null,o));return r},t.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(s,"a",s),s},t.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},t.p="",t(t.s=7)}([function(e,s){e.exports=flarum.core.compat.app},function(e,s){e.exports=flarum.core.compat.extend},function(e,s){e.exports=flarum.core.compat["components/LogInModal"]},,function(e,s){e.exports=flarum.core.compat["components/SignUpModal"]},,,function(e,s,t){"use strict";t.r(s);var r=t(1),o=t(0),n=t.n(o),a=t(2),i=t.n(a),p=t(4),d=t.n(p),l="clarkwinkelmann-passwordless.forum.sign-up.";n.a.initializers.add("clarkwinkelmann-passwordless",(function(){Object(r.extend)(i.a.prototype,"oninit",(function(){this.passwordlessTokenSent=!1,this.passwordlessSkip=!n.a.forum.attribute("passwordless.passwordlessLoginByDefault")})),Object(r.extend)(i.a.prototype,"fields",(function(e){this.passwordlessTokenSent?(e.add("passwordless",m("p",n.a.translator.trans(l+"link-sent",{a:m("a",{onclick:this.requestPasswordlessToken.bind(this)})})),100),e.has("identification")&&e.remove("identification"),e.has("remember")&&e.remove("remember"),e.has("submit")&&e.remove("submit")):this.passwordlessSkip||e.add("passwordless",m("p",n.a.translator.trans(l+"how-it-works")),-100),e.has("password")&&!this.passwordlessSkip&&e.remove("password")})),Object(r.extend)(i.a.prototype,"footer",(function(e){var s=this;!this.passwordlessSkip&&Array.isArray(e)&&e.length&&e[0]&&e[0].attrs&&"LogInModal-forgotPassword"===e[0].attrs.className&&e.splice(0,1),e.push(m("p",n.a.translator.trans(l+(this.passwordlessSkip?"login-without-password":"login-with-password"),{a:m("a",{onclick:function(){s.passwordlessSkip=!s.passwordlessSkip,s.passwordlessTokenSent=!1}})})))})),i.a.prototype.requestPasswordlessToken=function(e){var s=this;e.preventDefault(),this.loading=!0,n.a.request({method:"POST",url:n.a.forum.attribute("apiUrl")+"/passwordless-request",body:{identification:this.identification(),remember:this.remember()},errorHandler:this.onerror.bind(this)}).then((function(){s.passwordlessTokenSent=!0,s.loaded()}),this.loaded.bind(this))},Object(r.override)(i.a.prototype,"onsubmit",(function(e,s){if(this.passwordlessSkip)return e(s);this.requestPasswordlessToken(s)})),Object(r.extend)(d.a.prototype,"fields",(function(e){n.a.forum.attribute("passwordless.hideSignUpPassword")&&e.has("password")&&e.remove("password")}))}))}]);
//# sourceMappingURL=forum.js.map